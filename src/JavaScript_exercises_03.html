<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>JavaScript課題3</title>
    <link href="../lib/bootstrap-4.1.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="../lib/jquery.min.js"></script>
    <script src="../lib/bootstrap-4.1.2/js/bootstrap.min.js"></script>
    <script>
    $(document).ready(function(){
        var check = [];
        $("#button").click(function(){
            var chg1=
                "<tr>"+
                    "<td><input type='text' id='A0' value='1'></td>"+
                    "<td><input type='text' id='A1' value='4'></td>"+
                    "<td><input type='text' id='A2' value='7'></td>"+
                "</tr>"+
                "<tr>"+
                    "<td><input type='text' id='A9' value='2'></td>"+
                    "<td><input type='text' id='A10' value='5'></td>"+
                    "<td><input type='text' id='A11' value='8'></td>"+
                "</tr>"+
                "<tr>"+
                    "<td><input type='text' id='A18' value='3'></td>"+
                    "<td><input type='text' id='A19' value='6'></td>"+
                    "<td><input type='text' id='A20' value='9'></td>"+
                "</tr>";
            var chg2=
                "<tr>"+
                    "<td><input type='text' id='A3' value='2'></td>"+
                    "<td><input type='text' id='A4' value='5'></td>"+
                    "<td><input type='text' id='A5' value='8'></td>"+
                "</tr>"+
                "<tr>"+
                    "<td><input type='text' id='A12' value='3'></td>"+
                    "<td><input type='text' id='A13' value='6'></td>"+
                    "<td><input type='text' id='A14' value='9'></td>"+
                "</tr>"+
                "<tr>"+
                    "<td><input type='text' id='A21' value='4'></td>"+
                    "<td><input type='text' id='A22' value='7'></td>"+
                    "<td><input type='text' id='A23' value='1'></td>"+
                "</tr>";
            var chg3=
                "<tr>"+
                    "<td><input type='text' id='A6' value='3'></td>"+
                    "<td><input type='text' id='A7' value='6'></td>"+
                    "<td><input type='text' id='A8' value='9'></td>"+
                "</tr>"+
                "<tr>"+
                    "<td><input type='text' id='A15' value='4'></td>"+
                    "<td><input type='text' id='A16' value='7'></td>"+
                    "<td><input type='text' id='A17' value='1'></td>"+
                "</tr>"+
                "<tr>"+
                    "<td><input type='text' id='A24' value='5'></td>"+
                    "<td><input type='text' id='A25' value='8'></td>"+
                    "<td><input type='text' id='A26' value='2'></td>"+
                "</tr>";
            var chg4=
                "<tr>"+
                    "<td><input type='text' id='A27' value='4'></td>"+
                    "<td><input type='text' id='A28' value='7'></td>"+
                    "<td><input type='text' id='A29' value='1'></td>"+
                "</tr>"+
                "<tr>"+
                    "<td><input type='text' id='A36' value='5'></td>"+
                    "<td><input type='text' id='A37' value='8'></td>"+
                    "<td><input type='text' id='A38' value='2'></td>"+
                "</tr>"+
                "<tr>"+
                    "<td><input type='text' id='A45' value='6'></td>"+
                    "<td><input type='text' id='A46' value='9'></td>"+
                    "<td><input type='text' id='A47' value='3'></td>"+
                "</tr>";
            var chg5=
                "<tr>"+
                    "<td><input type='text' id='A30' value='5'></td>"+
                    "<td><input type='text' id='A31' value='8'></td>"+
                    "<td><input type='text' id='A32' value='2'></td>"+
                "</tr>"+
                "<tr>"+
                    "<td><input type='text' id='A39' value='6'></td>"+
                    "<td><input type='text' id='A40' value='9'></td>"+
                    "<td><input type='text' id='A41' value='3'></td>"+
                "</tr>"+
                "<tr>"+
                    "<td><input type='text' id='A48' value='7'></td>"+
                    "<td><input type='text' id='A49' value='1'></td>"+
                    "<td><input type='text' id='A50' value='4'></td>"+
                "</tr>";
            var chg6=
                "<tr>"+
                    "<td><input type='text' id='A33' value='6'></td>"+
                    "<td><input type='text' id='A34' value='9'></td>"+
                    "<td><input type='text' id='A35' value='3'></td>"+
                "</tr>"+
                "<tr>"+
                    "<td><input type='text' id='A42' value='7'></td>"+
                    "<td><input type='text' id='A43' value='1'></td>"+
                    "<td><input type='text' id='A44' value='4'></td>"+
                "</tr>"+
                "<tr>"+
                    "<td><input type='text' id='A51' value='8'></td>"+
                    "<td><input type='text' id='A52' value='2'></td>"+
                    "<td><input type='text' id='A53' value='5'></td>"+
                "</tr>";
            var chg7=
                "<tr>"+
                    "<td><input type='text' id='A54' value='7'></td>"+
                    "<td><input type='text' id='A55' value='1'></td>"+
                    "<td><input type='text' id='A56' value='4'></td>"+
                "</tr>"+
                "<tr>"+
                    "<td><input type='text' id='A63' value='8'></td>"+
                    "<td><input type='text' id='A64' value='2'></td>"+
                    "<td><input type='text' id='A65' value='5'></td>"+
                "</tr>"+
                "<tr>"+
                    "<td><input type='text' id='A72' value='9'></td>"+
                    "<td><input type='text' id='A73' value='3'></td>"+
                    "<td><input type='text' id='A74' value='6'></td>"+
                "</tr>";
            var chg8=
                "<tr>"+
                    "<td><input type='text' id='A57' value='8'></td>"+
                    "<td><input type='text' id='A58' value='2'></td>"+
                    "<td><input type='text' id='A59' value='5'></td>"+
                "</tr>"+
                "<tr>"+
                    "<td><input type='text' id='A66' value='9'></td>"+
                    "<td><input type='text' id='A67' value='3'></td>"+
                    "<td><input type='text' id='A68' value='6'></td>"+
                "</tr>"+
                "<tr>"+
                    "<td><input type='text' id='A75' value='1'></td>"+
                    "<td><input type='text' id='A76' value='4'></td>"+
                    "<td><input type='text' id='A77' value='7'></td>"+
                "</tr>";
            var chg9=
                "<tr>"+
                    "<td><input type='text' id='A60' value='9'></td>"+
                    "<td><input type='text' id='A61' value='3'></td>"+
                    "<td><input type='text' id='A62' value='6'></td>"+
                "</tr>"+
                "<tr>"+
                    "<td><input type='text' id='A69' value='1'></td>"+
                    "<td><input type='text' id='A70' value='4'></td>"+
                    "<td><input type='text' id='A71' value='7'></td>"+
                "</tr>"+
                "<tr>"+
                    "<td><input type='text' id='A78' value='2'></td>"+
                    "<td><input type='text' id='A79' value='5'></td>"+
                    "<td><input type='text' id='A80' value='8'></td>"+
                "</tr>";
            var group = [chg1,chg2,chg3,
                chg4,chg5,chg6,
                chg7,chg8,chg9];
            var random = Math.floor( Math.random() * 5 );
                if(random == 0){
                    for(var i=0; i<9; i++){
                        $("#box"+i).html(group[i]);
                        }
                }else if(random == 1){
                    for(var i=3; i<6; i++){
                        $("#box"+(i-3)).html(group[i]);
                        }
                    for(var i=0; i<3; i++){
                        $("#box"+(i+3)).html(group[i]);
                        }
                    for(var i=6; i<9; i++){
                        $("#box"+i).html(group[i]);
                        }
                }else if(random == 2){
                    for(var i=3; i<6; i++){
                        $("#box"+(i-3)).html(group[i]);
                        }
                    for(var i=6; i<9; i++){
                        $("#box"+(i-3)).html(group[i]);
                        }
                    for(var i=0; i<3; i++){
                        $("#box"+(i+6)).html(group[i]);
                        }
                }else if(random == 3){
                    for(var i=6; i<9; i++){
                        $("#box"+(i-6)).html(group[i]);
                        }
                    for(var i=0; i<3; i++){
                        $("#box"+(i+3)).html(group[i]);
                        }
                    for(var i=3; i<6; i++){
                        $("#box"+(i+3)).html(group[i]);
                        }
                }else if(random == 4){
                    for(var i=6; i<9; i++){
                        $("#box"+(i-6)).html(group[i]);
                        }
                    for(var i=3; i<6; i++){
                        $("#box"+(i)).html(group[i]);
                        }
                    for(var i=0; i<3; i++){
                        $("#box"+(i+6)).html(group[i]);
                        }
                    }

                var arr = [0,1,2,3,4,5,6,7,8,9,10,
                    11,12,13,14,15,16,17,18,19,20,
                    21,22,23,24,25,26,27,28,29,30,
                    31,32,33,34,35,36,37,38,39,40,
                    41,42,43,44,45,46,47,48,49,50,
                    51,52,53,54,55,56,57,58,59,60,
                    61,62,63,64,65,66,67,68,69,70,
                    71,72,73,74,75,76,77,78,79,80];

                var element = arr.length;

                arr.forEach(function(element){
                    check.push($("#A"+element).val());
                });

                while (element) {
                    var changeElement = Math.floor( Math.random() * element );
                    var temporarily = arr[--element];
                    arr[element] = arr[changeElement];
                    arr[changeElement] = temporarily;
                }

                for(var i=0; i<81; i++){
                    $("#A"+i).css("color","red")
                }

                for(var i=0; i<40; i++){
                    $("#A"+arr[i]).val("").css("color","#000");
                    }
                });

        $("#check").click(function(){
            var num = 0;
            alert("答え合わせをします");

            for(var i=0; i<81; i++){
                if($("#A"+i).val()==""){
                    num = 100;
                }else if(!($("#A"+i).val()==check[i])){
                    num += 1;
                    }
                }
            if(num > 0 && num < 90){
                alert(num+"箇所まだ間違っております");
            }else if(num > 91){
                alert("空白がまだあります");
            }else{
                alert("正解です");
            }

        });
    });
    </script>
    <style type="text/css">
      * {
        font-family: 游ゴシック体, 'Yu Gothic', YuGothic, 'ヒラギノ角ゴシック Pro',
          'Hiragino Kaku Gothic Pro', メイリオ, Meiryo, Osaka, 'ＭＳ Ｐゴシック',
          'MS PGothic', sans-serif;
        letter-spacing: .08em;
      }
      .errorMsg {
        padding-left: 10px;
        font-size: 12px;
        color: red;
      }
      .jumbotron {
        padding-top: 1.5rem;
        padding-bottom: 1.5rem;
      }
      .jumbotron div {
        font-size: 11px;
      }
      input {
        width: 20px;
        height: 20px;
      }
      #button {
        width: 80px;
        height: 30px;
        margin: 15px 5px 0px 5px;
      }
      #check{
        width: 80px;
        height: 30px;
        margin: 15px 5px 0px 5px;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand" href="#">JavaScript課題3</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText"
        aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarText">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">会員登録</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">会員検索</a>
          </li>
        </ul>
        <span class="navbar-text">
          test-user さんでログイン中
        </span>
      </div>
    </nav>
    <div class="jumbotron">
      <p>以下の問題に沿ってJavaScript (JQuery) で実装しなさい。</p>
      <div>■問題</div>
      <div>・数独の問題をHTMLとJavaScriptで実装する。</div>
      <div>　ルールは以下のWiki参照</div>
      <div>　https://ja.wikipedia.org/wiki/%E6%95%B0%E7%8B%AC</div>
    </div>
    <div class="container">
      <br />
      <form>
      <table border="1">
      <tr>
          <td>
              <table id="box0">
              <tr>
                  <td><input type="text" id="A0"> </td>
                  <td><input type="text" id="A1"> </td>
                  <td><input type="text" id="A2"> </td>
              </tr>
              <tr>
                  <td><input type="text" id="A9"> </td>
                  <td><input type="text" id="A10"> </td>
                  <td><input type="text" id="A11"> </td>
              </tr>
              <tr>
                  <td><input type="text" id="A18"> </td>
                  <td><input type="text" id="A19"> </td>
                  <td><input type="text" id="A20"> </td>
              </tr>
              </table>
          </td>
          <td>
              <table id="box1">
              <tr>
                  <td><input type="text" id="A3"> </td>
                  <td><input type="text" id="A4"> </td>
                  <td><input type="text" id="A5"> </td>
              </tr>
              <tr>
                  <td><input type="text" id="A12"> </td>
                  <td><input type="text" id="A13"> </td>
                  <td><input type="text" id="A14"> </td>
              </tr>
              <tr>
                  <td><input type="text" id="A21"> </td>
                  <td><input type="text" id="A22"> </td>
                  <td><input type="text" id="A23"> </td>
              </tr>
              </table>
          </td>
          <td>
              <table id="box2">
              <tr>
                  <td><input type="text" id="A6"> </td>
                  <td><input type="text" id="A7"> </td>
                  <td><input type="text" id="A8"> </td>
              </tr>
              <tr>
                  <td><input type="text" id="A15"> </td>
                  <td><input type="text" id="A16"> </td>
                  <td><input type="text" id="A17"> </td>
              </tr>
              <tr>
                  <td><input type="text" id="A24"> </td>
                  <td><input type="text" id="A25"> </td>
                  <td><input type="text" id="A26"> </td>
              </tr>
              </table>
          </td>
      </tr>
      <tr>
          <td>
              <table id="box3">
              <tr>
                  <td><input type="text" id="A27"> </td>
                  <td><input type="text" id="A28"> </td>
                  <td><input type="text" id="A29"> </td>
              </tr>
              <tr>
                  <td><input type="text" id="A36"> </td>
                  <td><input type="text" id="A37"> </td>
                  <td><input type="text" id="A38"> </td>
              </tr>
              <tr>
                  <td><input type="text" id="A45"> </td>
                  <td><input type="text" id="A46"> </td>
                  <td><input type="text" id="A47"> </td>
              </tr>
              </table>
          </td>
          <td>
              <table id="box4">
              <tr>
                  <td><input type="text" id="A30"> </td>
                  <td><input type="text" id="A31"> </td>
                  <td><input type="text" id="A32"> </td>
              </tr>
              <tr>
                  <td><input type="text" id="A39"> </td>
                  <td><input type="text" id="A40"> </td>
                  <td><input type="text" id="A41"> </td>
              </tr>
              <tr>
                  <td><input type="text" id="A48"> </td>
                  <td><input type="text" id="A49"> </td>
                  <td><input type="text" id="A50"> </td>
              </tr>
              </table>
          </td>
          <td>
              <table id="box5">
              <tr>
                  <td><input type="text" id="A33"> </td>
                  <td><input type="text" id="A34"> </td>
                  <td><input type="text" id="A35"> </td>
              </tr>
              <tr>
                  <td><input type="text" id="A42"> </td>
                  <td><input type="text" id="A43"> </td>
                  <td><input type="text" id="A44"> </td>
              </tr>
              <tr>
                  <td><input type="text" id="A51"> </td>
                  <td><input type="text" id="A52"> </td>
                  <td><input type="text" id="A53"> </td>
              </tr>
              </table>
          </td>
      </tr>
      <tr>
          <td>
              <table id="box6">
              <tr>
                  <td><input type="text" id="A54"> </td>
                  <td><input type="text" id="A55"> </td>
                  <td><input type="text" id="A56"> </td>
              </tr>
              <tr>
                  <td><input type="text" id="A63"> </td>
                  <td><input type="text" id="A64"> </td>
                  <td><input type="text" id="A65"> </td>
              </tr>
              <tr>
                  <td><input type="text" id="A72"> </td>
                  <td><input type="text" id="A73"> </td>
                  <td><input type="text" id="A74"> </td>
              </tr>
              </table>
          </td>
          <td>
              <table id="box7">
              <tr>
                  <td><input type="text" id="A57"> </td>
                  <td><input type="text" id="A58"> </td>
                  <td><input type="text" id="A59"> </td>
              </tr>
              <tr>
                  <td><input type="text" id="A66"> </td>
                  <td><input type="text" id="A67"> </td>
                  <td><input type="text" id="A68"> </td>
              </tr>
              <tr>
                  <td><input type="text" id="A75"> </td>
                  <td><input type="text" id="A76"> </td>
                  <td><input type="text" id="A77"> </td>
              </tr>
              </table>
          </td>
          <td>
              <table id="box8">
              <tr>
                  <td><input type="text" id="A60"> </td>
                  <td><input type="text" id="A61"> </td>
                  <td><input type="text" id="A62"> </td>
              </tr>
              <tr>
                  <td><input type="text" id="A69"> </td>
                  <td><input type="text" id="A70"> </td>
                  <td><input type="text" id="A71"> </td>
              </tr>
              <tr>
                  <td><input type="text" id="A78"> </td>
                  <td><input type="text" id="A79"> </td>
                  <td><input type="text" id="A80"> </td>
              </tr>
              </table>
          </td>
      </tr>
      </table>
      <p>
          <input id="button" type="button" value="問題">
          <input id="check" type="button" value="チェック">
          <input id="button" type="reset" value="解答">
      </p>
      </form>
      <br />
    </div>
  </body>
</html>
